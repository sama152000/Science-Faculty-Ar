<section class="contact-section py-5" dir="rtl">
  <div class="container-fluid">

    <div class="text-center mb-5">
      <h2 class="section-title fw-bold">اتصل بنا</h2>
      <p class="lead text-muted fs-4">كلية العلوم - جامعة الأقصر</p>
    </div>

    <div class="row g-4">

      <!-- الشريط الجانبي الأيسر -->
      <div class="col-lg-3 col-md-4">
        <div class="contact-sidebar card-custom shadow-sm h-100">

          <h4 class="sidebar-title text-primary-custom mb-4">
            <i class="fas fa-phone-volume me-3"></i>
            جهات الاتصال الرئيسية
          </h4>

          <ul class="contact-list list-unstyled">
            <li *ngFor="let contact of contactInfo">
              <button
                class="contact-btn w-100 text-start mb-2 p-3 rounded-3"
                [class.active]="isContactSelected(contact.id)"
                (click)="selectContact(contact)">
                <div class="d-flex align-items-center">
                  <div class="contact-icon bg-primary-custom text-white rounded-circle p-3 me-3">
                    <i class="fas fa-building"></i>
                  </div>
                  <div class="contact-info">
                    <h6 class="contact-name mb-1 fw-bold">{{ contact.title }}</h6>
                    <small class="contact-desc  align-items-right">{{ contact.description }}</small>
                  </div>
                </div>
              </button>
            </li>
          </ul>

          <!-- إجراءات سريعة -->
          <div class="quick-actions mt-5 pt-4 border-top">
            <h5 class="actions-title fw-bold text-dark mb-3">
              <i class="fas fa-bolt text-warning me-2 "></i> تصفح سريع
            </h5>
            <div class="d-grid gap-2">
              <button class="action-btn text-start" 
                      [class.active]="isActiveSection('general')"
                      (click)="setActiveSection('general')">
                <i class="fas fa-info-circle me-3 p-1"></i> المعلومات العامة
              </button>
              <button class="action-btn text-start" 
                      [class.active]="isActiveSection('staff')"
                      (click)="setActiveSection('staff')">
                <i class="fas fa-users me-3 p-1"></i> دليل أعضاء هيئة التدريس
              </button>
              <button class="action-btn text-start" 
                      [class.active]="isActiveSection('location')"
                      (click)="setActiveSection('location')">
                <i class="fas fa-map-marker-alt me-3 p-1"></i> الموقع والخريطة
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- المحتوى الرئيسي -->
      <div class="col-lg-9 col-md-8">

        <!-- قسم المعلومات العامة -->
        <div *ngIf="isActiveSection('general') && selectedContact" class="contact-content">

          <div class="contact-header card-custom mb-4 p-4 shadow-sm">
            <div class="d-flex align-items-center">
              
              <div>
                <h1 class="contact-title mb-1">{{ selectedContact.title }}</h1>
                <p class="contact-subtitle text-muted mb-0">{{ selectedContact.description }}</p>
              </div>
            </div>
          </div>

          <div class="contact-details">
            <div class="row g-4">

              <!-- أرقام التليفون -->
              <div class="col-md-6">
                <div class="detail-card p-4 rounded shadow-sm h-100">
                  <div class="detail-icon bg-success text-white">
                    <i class="fas fa-phone"></i>
                  </div>
                  <h5 class="mt-3 mb-3">أرقام التليفون</h5>
                  <div class="phone-list">
                    <div *ngFor="let phone of selectedContact.phone" class="phone-item mb-2">
                      <a [href]="'tel:' + phone" class="phone-link fw-medium">
                        <i class="fas fa-phone-alt me-2"></i>
                        {{ phone }}
                      </a>
                    </div>
                  </div>
                </div>
              </div>

              <!-- البريد الإلكتروني -->
              <div class="col-md-6">
                <div class="detail-card p-4 rounded shadow-sm h-100">
                  <div class="detail-icon bg-danger text-white">
                    <i class="fas fa-envelope"></i>
                  </div>
                  <h5 class="mt-3 mb-3">البريد الإلكتروني</h5>
                  <div class="email-list">
                    <div *ngFor="let email of selectedContact.email" class="email-item mb-2">
                      <a [href]="'mailto:' + email" class="email-link fw-medium">
                        <i class="fas fa-envelope me-2 p-2"></i>
                        {{ email }}
                      </a>
                    </div>
                  </div>
                </div>
              </div>

              <!-- العنوان -->
              <div class="col-md-6">
                <div class="detail-card p-4 rounded shadow-sm h-100">
                  <div class="detail-icon bg-info text-white">
                    <i class="fas fa-map-marker-alt"></i>
                  </div>
                  <h5 class="mt-3 mb-3">العنوان</h5>
                  <p class="address-text lh-lg">{{ selectedContact.address }}</p>
                </div>
              </div>

              <!-- مواعيد العمل -->
              <div class="col-md-6">
                <div class="detail-card p-4 rounded shadow-sm h-100">
                  <div class="detail-icon bg-warning text-dark">
                    <i class="fas fa-clock"></i>
                  </div>
                  <h5 class="mt-3 mb-3">مواعيد العمل الرسمية</h5>
                  <p class="hours-text fw-medium">{{ selectedContact.officeHours }}</p>
                </div>
              </div>

            </div>
          </div>
        </div>

        <!-- قسم دليل أعضاء هيئة التدريس -->
        <div *ngIf="isActiveSection('staff')" class="staff-content">

          <div class="staff-header card-custom mb-4 p-4 shadow-sm">
            <div class="d-flex align-items-center">
              
              <div>
                <h1 class="staff-title mb-1">دليل أعضاء هيئة التدريس والإداريين</h1>
                <p class="staff-subtitle text-muted">تواصَل مع فريق الكلية الأكاديمي والإداري</p>
              </div>
            </div>
          </div>

          <div class="all-staff-section">
            <h3 class="section-title-right mb-4">
              <i class="fas fa-chalkboard-teacher text-primary-custom me-3"></i>
              قائمة شاملة بأعضاء هيئة التدريس
            </h3>

            <div class="staff-table-container card-custom shadow-sm overflow-hidden">
              <div class="table-responsive">
                <table class="table staff-table table-hover align-middle">
                  <thead class="table-primary">
                    <tr>
                      <th>الاسم</th>
                      <th>الوظيفة</th>
                      <th>القسم</th>
                      <th>البريد الإلكتروني</th>
                      <th>رقم التليفون</th>
                      <th>المكتب</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let staff of staffContacts">
                      <td>
                        <div class="staff-name-cell d-flex align-items-center">
                          <img [src]="staff.image" [alt]="staff.name" class="staff-avatar rounded-circle me-3">
                          <span class="fw-medium">{{ staff.name }}</span>
                        </div>
                      </td>
                      <td>{{ staff.position }}</td>
                      <td>{{ staff.department }}</td>
                      <td>
                        <a [href]="'mailto:' + staff.email" class="email-link">
                          {{ staff.email }}
                        </a>
                      </td>
                      <td>
                        <a *ngIf="staff.phone" [href]="'tel:' + staff.phone" class="phone-link">
                          {{ staff.phone }}
                        </a>
                        <span *ngIf="!staff.phone" class="text-muted">—</span>
                      </td>
                      <td>
                        <span *ngIf="staff.officeLocation">{{ staff.officeLocation }}</span>
                        <span *ngIf="!staff.officeLocation" class="text-muted">—</span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- قسم الموقع والخريطة -->
        <div *ngIf="isActiveSection('location')" class="location-content">

          <div class="location-header card-custom mb-4 p-4 shadow-sm">
            <div class="d-flex align-items-center">
             
              <div>
                <h1 class="location-title mb-1">زورنا في حرم الكلية</h1>
                <p class="location-subtitle text-muted">اكتشف موقعنا ومرافقنا المتطورة</p>
              </div>
            </div>
          </div>

          <!-- الخريطة -->
          <div class="map-section card-custom shadow-sm overflow-hidden mb-4">
            <div class="map-container">
               <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3593.0258622713013!2d32.8040167!3d25.769709300000002!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14491592597f70b1%3A0xccac387a294f12e5!2z2KzYp9mF2LnYqSDYp9mE2KPZgti12LE!5e0!3m2!1sar!2seg!4v1764261012461!5m2!1sar!2seg" 
          
                width="100%"
                height="400"
                style="border:0;"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade">
              </iframe>
            </div>
          </div>

          <!-- معلومات إضافية عن الحرم الجامعي -->
          <div class="campus-info">
            <div class="row g-4">
              <div class="col-md-6">
                <div class="info-card p-4 text-center shadow-sm">
                  <div class="info-icon bg-primary text-white mb-3">
                    <i class="fas fa-car fa-2x"></i>
                  </div>
                  <h5 class="fw-bold">مواقف السيارات</h5>
                  <p>مواقف مجانية واسعة للزوار والطلاب حول الحرم الجامعي</p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="info-card p-4 text-center shadow-sm">
                  <div class="info-icon bg-success text-white mb-3">
                    <i class="fas fa-bus fa-2x"></i>
                  </div>
                  <h5 class="fw-bold">المواصلات العامة</h5>
                  <p>يسهل الوصول إلينا بالأتوبيسات والتاكسي - موقف رئيسي على بُعد 200 متر</p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="info-card p-4 text-center shadow-sm">
                  <div class="info-icon bg-info text-white mb-3">
                    <i class="fas fa-wheelchair fa-2x"></i>
                  </div>
                  <h5 class="fw-bold">تسهيلات ذوي الهمم</h5>
                  <p>الحرم مجهز بالكامل برامبات ومصاعد ومواقف مخصصة</p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="info-card p-4 text-center shadow-sm">
                  <div class="info-icon bg-warning text-dark mb-3">
                    <i class="fas fa-concierge-bell fa-2x"></i>
                  </div>
                  <h5 class="fw-bold">مكتب الاستقبال</h5>
                  <p>مكتب الاستعلامات بالمدخل الرئيسي يقدم الخرائط والإرشادات</p>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>