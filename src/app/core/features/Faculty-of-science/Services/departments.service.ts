import { Injectable } from '@angular/core';
import { Department } from '../model/department.model';

@Injectable({
  providedIn: 'root'
})
export class DepartmentsService {
  private departments: Department[] = [
    {
      id: '1',
      name: 'الجيولوجيا',
      icon: 'fa-solid fa-earth-africa',
      order: 1,
      description: 'دراسة تركيب الأرض ومكوناتها وعملياتها الطبيعية',
      overview: 'يجمع قسم الجيولوجيا بكلية العلوم - جامعة الأقصر بين التعليم الأكاديمي المتقدم والتدريب الميداني المكثف في واحدة من أغنى المناطق جيولوجيًا وأثريًا في العالم.',
      vision: 'يسعى قسم الجيولوجيا بكلية العلوم - جامعة الأقصر إلى تحقيق الريادة والتميز في التعليم الجيولوجي والبحث العلمي وخدمة المجتمع وإنتاج المعرفة والتنمية المستدامة على المستويين المحلي والدولي.',
      mission: `يلتزم قسم الجيولوجيا بتحقيق التميز والتنافسية العالمية من خلال:
1. تقديم برامج تعليمية عالية الجودة تُثري المعرفة العلمية وتساهم في التنمية البشرية على المستوى المحلي والإقليمي.
2. تخريج كوادر مؤهلة تأهيلاً عاليًا قادرة على تقديم خدمات علمية واستشارية وبحثية متقدمة للمجتمع والبيئة.
3. إجراء بحوث علمية متميزة تلبي تحديات المجتمع مدعومة بوحدات خدمية متخصصة.
4. تقديم خدمات تطويرية وفنية للشركات والمصانع والصناعات في محافظة الأقصر والمناطق المحيطة.
5. رعاية الإبداع والابتكار ومهارات ريادة الأعمال لدى الطلاب والخريجين لدعم أهداف التنمية المستدامة.`,
      objectives: [
        'توفير تعليم جيولوجي متميز',
        'إجراء بحوث تطبيقية وميدانية',
        'دعم إدارة الموارد الطبيعية',
        'المساهمة في حل التحديات البيئية والتنموية'
      ],
      courses: [
        'علم المعادن', 'علم الصخور', 'الجيولوجيا الهيكلية', 'علم الترسيب',
        'الجيوفيزياء', 'هيدرولوجيا المياه الجوفية', 'الجيولوجيا البيئية', 'الجيولوجيا الأثرية'
      ],
      researchAreas: [
        'الثروة المعدنية',
        'إدارة المياه الجوفية',
        'الجيولوجيا البيئية',
        'الجيولوجيا الأثرية والتراث',
        'الزلازل والمخاطر الجيولوجية'
      ],
      programs: [
        'بكالوريوس العلوم في الجيولوجيا',
        'بكالوريوس العلوم في الجيولوجيا والكيمياء',
        'بكالوريوس العلوم في الجيوفيزياء'
      ],
      headOfDepartment: 'د. محمد عبد الرحمن',
      establishedYear: 2018,
      studentCount: 285,
      facultyCount: 21
    },
    {
      id: '2',
      name: 'الرياضيات',
      icon: 'fa-solid fa-calculator',
      order: 2,
      description: 'استكشاف الأنماط والهياكل والتفكير المنطقي',
      overview: 'يقدم قسم الرياضيات برامج متميزة في الرياضيات البحتة والتطبيقية مع التركيز على تنمية مهارات التفكير التحليلي والنقدي.',
      vision: 'يطمح قسم الرياضيات بكلية العلوم - جامعة الأقصر إلى تحقيق الريادة والتميز في التعليم والبحث العلمي وخدمة المجتمع وإنتاج المعرفة والتنمية المستدامة.',
      mission: `يلتزم قسم الرياضيات بتحقيق التميز والتنافسية الدولية من خلال:
1. تقديم برامج تعليمية عالية الجودة تُثري المعرفة الإنسانية وتساهم في التقدم الفكري والثقافي.
2. تخريج كوادر عالية الكفاءة قادرة على تقديم خدمات علمية واستشارية وبحثية متقدمة.
3. إجراء بحوث علمية متميزة تلبي تحديات المجتمع.
4. تقديم خدمات تطويرية وفنية للشركات والصناعات في الأقصر والمناطق المجاورة.
5. رعاية الإبداع والابتكار وريادة الأعمال لدعم مسارات التنمية المستدامة.`,
      objectives: [
        'توفير تعليم شامل في الرياضيات البحتة والتطبيقية',
        'تنمية مهارات التفكير النقدي وحل المشكلات',
        'دعم البحث في العلوم الرياضية',
        'إعداد الخريجين لفرص عمل متنوعة',
        'المساهمة في المعرفة والتطبيقات الرياضية'
      ],
      courses: [
        'التفاضل والتكامل 1', 'التفاضل والتكامل 2', 'الجبر الخطي', 'الجبر المجرد',
        'التحليل الحقيقي', 'التحليل المركب', 'المعادلات التفاضلية', 'الرياضيات المنفصلة',
        'الاحتمالات والإحصاء', 'التحليل العددي', 'الطوبولوجيا', 'الهندسة'
      ],
      researchAreas: [
        'الرياضيات البحتة (الجبر، التحليل، الهندسة)',
        'الرياضيات التطبيقية (النمذجة، التحسين)',
        'الفيزياء الرياضية',
        'الإحصاء وتحليل البيانات',
        'الحوسبة الرياضية'
      ],
      programs: ['بكالوريوس العلوم في الرياضيات'],
      headOfDepartment: 'أ.د. إبراهيم السيد',
      establishedYear: 2018,
      studentCount: 310,
      facultyCount: 24
    },
    {
      id: '3',
      name: 'الفيزياء',
      icon: 'fa-solid fa-atom',
      order: 3,
      description: 'دراسة القوانين الأساسية للطبيعة والكون',
      overview: 'يقدم قسم الفيزياء تعليمًا شاملاً في الفيزياء الكلاسيكية والحديثة باستخدام معامل متقدمة ومرافق بحثية متطورة.',
      vision: 'يسعى قسم الفيزياء للريادة في مجالات التعليم والبحث العلمي وخدمة المجتمع وإنتاج المعرفة والتنمية المستدامة.',
      mission: `يلتزم القسم بتحقيق التميز والتنافسية العالمية من خلال تقديم تعليم عالي الجودة، وتخريج كوادر مؤهلة، وإجراء بحوث متميزة، وتقديم خدمات فنية، ورعاية الابتكار بين الطلاب.`,
      objectives: [
        'توفير فهم أساسي للقوانين والمبادئ الفيزيائية',
        'تنمية المهارات التجريبية والنظرية في الفيزياء',
        'دعم البحث في الفيزياء وتطبيقاتها',
        'إعداد الطلاب للعمل في العلوم والتكنولوجيا والتعليم',
        'المساهمة في تطوير العلوم الفيزيائية'
      ],
      courses: [
        'الميكانيكا الكلاسيكية', 'الكهرومغناطيسية', 'ميكانيكا الكم', 'الديناميكا الحرارية',
        'البصريات', 'الفيزياء النووية', 'فيزياء الحالة الصلبة', 'فيزياء الجسيمات',
        'الفيزياء الرياضية', 'الفيزياء الحسابية', 'الفيزياء الفلكية', 'الفيزياء الحيوية'
      ],
      researchAreas: [
        'الفيزياء النظرية',
        'الفيزياء التجريبية',
        'الفيزياء التطبيقية',
        'الفيزياء الطبية',
        'فيزياء الطاقة المتجددة'
      ],
      programs: ['بكالوريوس العلوم في الفيزياء'],
      headOfDepartment: 'د. أحمد محمود',
      establishedYear: 2018,
      studentCount: 295,
      facultyCount: 22
    },
    {
      id: '4',
      name: 'الكيمياء',
      icon: 'fa-solid fa-flask',
      order: 4,
      description: 'فهم المادة وتحولاتها',
      overview: 'يوفر قسم الكيمياء معامل حديثة وأساتذة متخصصين في كافة فروع الكيمياء مع وحدات استشارية صناعية قوية.',
      vision: 'يسعى قسم الكيمياء لتحقيق الريادة والتميز في التعليم والبحث العلمي وخدمة المجتمع وإنتاج المعرفة والتنمية المستدامة.',
      mission: `ملتزم بالتميز من خلال تعليم عالي الجودة، تخريج كوادر ماهرة، بحوث متميزة (مثل وحدة استشارات صناعة الصابون والمنظفات)، خدمات صناعية، ورعاية الابتكار.`,
      objectives: [
        'توفير تعليم شامل في العلوم الكيميائية',
        'تنمية المهارات المعملية والتحليلية',
        'دعم البحث في الكيمياء وتطبيقاتها',
        'إعداد الطلاب للعمل في الصناعة والبحث والتعليم',
        'المساهمة في المعرفة الكيميائية والتطور الصناعي'
      ],
      courses: [
        'الكيمياء العامة', 'الكيمياء العضوية', 'الكيمياء اللاعضوية', 'الكيمياء الفيزيائية',
        'الكيمياء التحليلية', 'الكيمياء الحيوية', 'كيمياء البوليمرات', 'الكيمياء البيئية',
        'الكيمياء الطبية', 'الكيمياء الحسابية', 'الطيفية', 'الكيمياء الكهروكيميائية'
      ],
      researchAreas: [
        'التخليق العضوي',
        'الكيمياء التحليلية',
        'الكيمياء البيئية',
        'الكيمياء الصناعية',
        'الكيمياء الحيوية والتكنولوجيا الحيوية'
      ],
      programs: ['بكالوريوس العلوم في الكيمياء'],
      headOfDepartment: 'أ.د. سارة علي',
      establishedYear: 2018,
      studentCount: 320,
      facultyCount: 26
    },
    {
      id: '5',
      name: 'النبات والميكروبيولوجي',
      icon: 'fa-solid fa-seedling',
      order: 5,
      description: 'دراسة النباتات والكائنات الدقيقة وتفاعلاتها مع البيئة',
      overview: 'يركز القسم على علوم النبات والميكروبيولوجي مع تطبيقات في البيئة والصناعة والتكنولوجيا الحيوية.',
      vision: 'يطمح قسم النبات والميكروبيولوجي إلى الريادة في التعليم والبحث العلمي وخدمة المجتمع وإنتاج المعرفة والتنمية المستدامة.',
      mission: `تحقيق التميز من خلال برامج تعليمية متميزة، وبحوث علمية، وخدمات استشارية، ورعاية الإبداع والابتكار.`,
      objectives: [
        'توفير تعليم في علوم النبات والميكروبيولوجي',
        'تنمية المهارات في علوم النبات والميكروبات',
        'دعم البحث في التنوع البيولوجي والتكنولوجيا الحيوية',
        'إعداد الطلاب للعمل في العلوم البيئية والتكنولوجيا الحيوية',
        'المساهمة في فهم تفاعلات النبات والميكروبات'
      ],
      courses: [
        'فسيولوجيا النبات', 'الميكروبيولوجي', 'تصنيف النبات', 'علم البكتيريا',
        'علم الفطريات', 'علم الفيروسات', 'التكنولوجيا الحيوية النباتية', 'الميكروبيولوجي البيئي',
        'الإيكولوجيا', 'الوراثة', 'الكيمياء الحيوية', 'البيولوجيا الجزيئية'
      ],
      researchAreas: [
        'التكنولوجيا الحيوية النباتية',
        'الإيكولوجيا الميكروبية',
        'الميكروبيولوجي البيئي',
        'أمراض النبات',
        'التنوع البيولوجي والحفاظ عليه'
      ],
      programs: [
        'بكالوريوس العلوم في النبات والكيمياء',
        'بكالوريوس العلوم في النبات والميكروبيولوجي',
        'بكالوريوس العلوم في الميكروبيولوجي والكيمياء'
      ],
      headOfDepartment: 'د. نورهان السيد',
      establishedYear: 2018,
      studentCount: 340,
      facultyCount: 28
    },
    {
      id: '6',
      name: 'علم الحيوان',
      icon: 'fa-solid fa-fish',
      order: 6,
      description: 'استكشاف بيولوجيا الحيوانات وسلوكها وأنظمتها البيئية',
      overview: 'يقدم القسم دراسة شاملة لحياة الحيوان من المستوى الخلوي إلى المستوى البيئي مع التركيز على التنوع البيولوجي والحفاظ عليه.',
      vision: 'يسعى قسم علم الحيوان إلى تحقيق الريادة والتميز في التعليم والبحث العلمي وخدمة المجتمع وإنتاج المعرفة والتنمية المستدامة.',
      mission: `ملتزم بتقديم تعليم عالي الجودة، تخريج كوادر ماهرة، بحوث متميزة، خدمات مجتمعية، ودعم أهداف التنمية المستدامة.`,
      objectives: [
        'توفير تعليم شامل في علم الحيوان وعلوم الحيوان',
        'تنمية المهارات في بيولوجيا الحيوان والإيكولوجيا',
        'دعم البحث في التنوع البيولوجي والحفاظ عليه',
        'إعداد الطلاب للعمل في إدارة الحياة البرية والبحث',
        'المساهمة في فهم سلوك الحيوان وأنظمته البيئية'
      ],
      courses: [
        'فسيولوجيا الحيوان', 'الإيكولوجيا', 'سلوك الحيوان', 'الوراثة',
        'البيولوجيا التنموية', 'البيولوجيا التطورية', 'البيولوجيا البحرية', 'علم الحشرات',
        'علم الأسماك', 'علم الطيور', 'علم الثدييات', 'بيولوجيا الحفاظ'
      ],
      researchAreas: [
        'إيكولوجيا الحيوان',
        'بيولوجيا السلوك',
        'بيولوجيا الحفاظ',
        'البيولوجيا التطورية',
        'البيولوجيا المائية'
      ],
      programs: [
        'بكالوريوس العلوم في علم الحيوان',
        'بكالوريوس العلوم في علم الحيوان والكيمياء'
      ],
      headOfDepartment: 'د. ريهام محمد',
      establishedYear: 2018,
      studentCount: 270,
      facultyCount: 19
    }
  ];

  getAll(): Department[] { return this.departments; }
  getById(id: string): Department | undefined {
    return this.departments.find(d => d.id === id);
  }
  getByOrder(order: number): Department | undefined {
    return this.departments.find(d => d.order === order);
  }
  getTopDepartments(count = 6): Department[] {
    return this.departments.sort((a, b) => a.order - b.order).slice(0, count);
  }
  getDepartmentsByStudentCount(): Department[] {
    return this.departments.sort((a, b) => (b.studentCount || 0) - (a.studentCount || 0));
  }
  getTotalStudents(): number {
    return this.departments.reduce((sum, d) => sum + (d.studentCount || 0), 0);
  }
  getTotalFaculty(): number {
    return this.departments.reduce((sum, d) => sum + (d.facultyCount || 0), 0);
  }
  searchDepartments(query: string): Department[] {
    const q = query.toLowerCase();
    return this.departments.filter(d =>
      d.name.toLowerCase().includes(q) ||
      d.description.toLowerCase().includes(q) ||
      d.programs?.some(p => p.toLowerCase().includes(q))
    );
  }
}