import { Injectable } from '@angular/core';
import { Event } from '../model/event.model';

@Injectable({
  providedIn: 'root'
})
export class EventsService {
  private events: Event[] = [
    {
      id: 1,
      title: 'ندوة توعوية: فقر الدم وأسبابه',
      description: `نظم اتحاد طلاب كلية العلوم بالتعاون مع قطاع خدمة المجتمع وتنمية البيئة، وإدارة رعاية الشباب، وأسرة «طلاب من أجل مصر» ندوة توعوية هامة حول مرض فقر الدم وأسبابه وطرق الوقاية منه.`,
      speaker: 'د. سحر مهدي أحمد – المدير السابق للمعمل المركزي المشترك',
      supervisors: [
        'أ.د. محمد عبد الله عباس – عميد كلية العلوم',
        'أ.د. رُقية العمري – وكيل الكلية لشئون خدمة المجتمع وتنمية البيئة',
        'أ.د. نجوى حسين – منسق الأنشطة الطلابية ومشرفة أسرة «طلاب من أجل مصر»',
        'أ. وجدي منير – مدير إدارة رعاية الشباب'
      ],
      image: './assets/event3.jpg',
      date: new Date('2025-11-11T13:00:00'),
      location: 'قاعة المحاضرات 1 – كلية العلوم',
      category: 'توعية صحية'
    },
    {
      id: 2,
      title: 'ترشيد استهلاك المياه ومعالجة مياه الصرف',
      description: `ندوة تثقيفية نظمتها كلية العلوم بالتعاون مع شركة مياه الشرب والصرف الصحي بالأقصر حول أهمية ترشيد استهلاك المياه وأحدث طرق معالجة مياه الصرف الصحي.`,
      speaker: 'مهندسة أماني محمد المدني – استشاري التوعية المجتمعية بشركة مياه الشرب والصرف الصحي بالأقصر',
      supervisors: [
        'أ.د. سبرين عبد الجليل – رئيس جامعة الأقصر (بالإنابة)',
        'أ.د. محمد عبد الله عباس – عميد كلية العلوم',
        'أ.د. رُقية العمري – وكيل الكلية لشئون خدمة المجتمع',
        'أ.د. نجوى حسين – مشرفة أسرة «طلاب من أجل مصر»'
      ],
      image: './assets/event4.jpg',
      date: new Date('2025-10-27T13:00:00'),
      location: 'قاعة المحاضرات 1 – كلية العلوم',
      category: 'توعية بيئية'
    },
    {
      id: 3,
      title: 'أهمية تدوير المخلفات وحماية البيئة',
      description: `ندوة علمية سلطت الضوء على الطرق العملية لتدوير المخلفات داخل الحرم الجامعي وفي المنازل، ودورها الحيوي في تقليل التلوث وحماية الموارد الطبيعية.`,
      speaker: 'د. أحمد إسماعيل – مدرس بقسم الكيمياء',
      supervisors: [
        'أ.د. محمد عبد الله عباس – عميد الكلية',
        'أ.د. رُقية العمري – وكيل الكلية لشئون البيئة',
        'أ.د. نجوى حسين – منسق الأنشطة الطلابية',
        'إدارة رعاية الشباب'
      ],
      image: './assets/event1.jpg',
      date: new Date('2025-11-18T13:00:00'),
      location: 'قاعة المحاضرات 1 – كلية العلوم',
      category: 'توعية بيئية'
    },
    {
      id: 4,
      title: 'ندوة توعوية: مكافحة التحرش',
      description: `ندوة توعوية هامة تناولت قضية التحرش بأشكاله المختلفة، وكيفية مواجهته لبناء بيئة جامعية آمنة ومحترمة للجميع.`,
      speaker: 'فضيلة الشيخ مصطفى النوبي',
      supervisors: [
        'أ.د. محمد عبد الله عباس – عميد كلية العلوم',
        'أ.د. رُقية العمري – وكيل الكلية لشئون خدمة المجتمع وتنمية البيئة',
        'أ.د. نجوى حسين – مشرفة أسرة «طلاب من أجل مصر»'
      ],
      image: './assets/event2.jpg',
      date: new Date('2025-11-10T13:00:00'),
      location: 'قاعة المحاضرات 1 – كلية العلوم',
      category: 'توعية مجتمعية'
    }
  ];

  getAll(): Event[] {
    return this.events;
  }

  getById(id: number): Event | undefined {
    return this.events.find(e => e.id === id);
  }

  getUpcoming(count: number = 4): Event[] {
    const now = new Date();
    return this.events
      .filter(event => event.date >= now)
      .sort((a, b) => a.date.getTime() - b.date.getTime())
      .slice(0, count);
  }

  getPast(): Event[] {
    const now = new Date();
    return this.events
      .filter(event => event.date < now)
      .sort((a, b) => b.date.getTime() - a.date.getTime());
  }
}