import { Injectable } from '@angular/core';
import { UnitCenter } from '../model/unit-center.model';

@Injectable({
  providedIn: 'root'
})
export class UnitsCentersService {
  private unitsAndCenters: UnitCenter[] = [
    // ==================== الوحدات ====================
    {
      id: '1',
      name: 'وحدة ضمان الجودة والاعتماد',
      type: 'unit',
      description: 'ضمان التميز الأكاديمي والتحسين المستمر',
      icon: 'fas fa-award',
      overview: 'تتحمل وحدة ضمان الجودة والاعتماد مسؤولية الحفاظ على جودة التعليم والبحث العلمي والخدمات المقدمة بكلية العلوم ورفع مستواها، وذلك من خلال تطبيق معايير الجودة الوطنية والدولية، وإجراء التقييمات الدورية، ودعم مبادرات التحسين المستمر.',
      objectives: [
        'تطبيق معايير ضمان الجودة الوطنية والدولية',
        'متابعة وتقييم الأداء الأكاديمي والإداري',
        'دعم عمليات الاعتماد المحلي والدولي',
        'ترسيخ ثقافة التحسين الجودة المستمر',
        'ضمان الالتزام بكافة اللوائح والتشريعات'
      ],
      services: [
        'تقييم وتطوير البرامج الأكاديمية',
        'تقييم أداء أعضاء هيئة التدريس والعاملين',
        'استطلاعات رضا الطلاب',
        'وضع خطط تحسين الجودة',
        'دعم إعداد ملفات الاعتماد'
      ],
      facilities: [
        'مركز التقييم والقياس',
        'معمل تحليل البيانات',
        'قاعات تدريب واجتماعات',
        'أرشيف وثائق الجودة'
      ],
      director: 'د. أميرة مصطفى',
      establishedYear: 2019,
      location: 'مبنى الإدارة - الدور الثاني',
      contactEmail: 'qa@science.luxor.edu.eg',
      contactPhone: '+20 95 237 1240',
      isActive: true
    },

    {
      id: '2',
      name: 'وحدة تكنولوجيا المعلومات',
      type: 'unit',
      description: 'إدارة البنية التحتية التقنية والخدمات الرقمية',
      icon: 'fas fa-laptop-code',
      overview: 'تقدم وحدة تكنولوجيا المعلومات الدعم التقني الشامل للكلية، بما في ذلك إدارة الشبكات، البرمجيات، الأمن السيبراني، وتطوير البنية الرقمية، بالإضافة إلى قيادة التحول الرقمي في جميع العمليات الأكاديمية والإدارية.',
      objectives: [
        'الحفاظ على بنية تقنية معلومات آمنة وقوية',
        'تقديم دعم فني سريع وفعال',
        'إدارة الموارد والبرمجيات الرقمية',
        'تعزيز الأمن السيبراني',
        'دعم التحول الرقمي والخدمات الذكية'
      ],
      services: [
        'إدارة الشبكات والسيرفرات',
        'دعم وتركيب البرمجيات',
        'صيانة الأجهزة والمعدات',
        'خدمات الأمن السيبراني',
        'برامج تدريبية في المهارات الرقمية'
      ],
      facilities: [
        'غرفة السيرفرات المركزية',
        'مركز دعم فني ومساعدة',
        'معامل حاسب آلي متعددة',
        'شبكة إنترنت عالية السرعة تغطي الحرم الجامعي'
      ],
      director: 'مهندس/ خالد أحمد',
      establishedYear: 2018,
      location: 'مبنى تكنولوجيا المعلومات - الدور الأرضي',
      contactEmail: 'it@science.luxor.edu.eg',
      contactPhone: '+20 95 237 1241',
      website: 'https://it.science.luxor.edu.eg',
      isActive: true
    },

    {
      id: '3',
      name: 'وحدة شئون الطلاب',
      type: 'unit',
      description: 'دعم الحياة الطلابية والنجاح الأكاديمي',
      icon: 'fas fa-users',
      overview: 'تهتم وحدة شئون الطلاب بدعم نجاح الطلاب من خلال تقديم خدمات شاملة تشمل الإرشاد الأكاديمي، الأنشطة الطلابية، الإرشاد النفسي والاجتماعي، والرعاية الشاملة.',
      objectives: [
        'دعم النجاح الأكاديمي للطلاب',
        'تنظيم الأنشطة الطلابية المتنوعة',
        'تقديم الإرشاد النفسي والاجتماعي',
        'تسهيل كافة الخدمات الطلابية',
        'تعزيز مشاركة الطلاب وانتمائهم'
      ],
      services: [
        'الإرشاد الأكاديمي',
        'الإرشاد النفسي والاجتماعي',
        'تنسيق الأنشطة الطلابية',
        'مساعدة المنح والإعانات',
        'التوجيه المهني والوظيفي'
      ],
      facilities: [
        'مركز خدمة الطلاب',
        'غرف الإرشاد النفسي',
        'قاعات الأنشطة',
        'مناطق دراسة هادئة'
      ],
      director: 'د. منى حسن',
      establishedYear: 2018,
      location: 'مبنى خدمات الطلاب',
      contactEmail: 'students@science.luxor.edu.eg',
      contactPhone: '+20 95 237 1242',
      isActive: true
    },

    // ==================== المراكز ====================
    {
      id: '4',
      name: 'مركز البحوث البيئية',
      type: 'center',
      description: 'أبحاث متقدمة في العلوم البيئية والتنمية المستدامة',
      icon: 'fas fa-globe-africa',
      overview: 'يُجري مركز البحوث البيئية أبحاثاً متطورة في علوم البيئة، التغير المناخي، والاستدامة، ويتعاون مع مؤسسات وطنية ودولية لحل التحديات البيئية التي تواجه المجتمع.',
      objectives: [
        'إجراء أبحاث بيئية متميزة',
        'رصد التغيرات البيئية',
        'تطوير حلول مستدامة',
        'تقديم استشارات بيئية',
        'تأهيل متخصصين في المجال البيئي'
      ],
      services: [
        'الرصد والتحليل البيئي',
        'التعاون البحثي',
        'الاستشارات البيئية',
        'برامج تدريبية',
        'دعم صياغة السياسات البيئية'
      ],
      facilities: [
        'معامل بيئية متخصصة',
        'محطات بحوث ميدانية',
        'مركز تحليل البيانات البيئية',
        'قاعات مؤتمرات'
      ],
      director: 'أ.د/ ياسمين الشربيني',
      establishedYear: 2020,
      location: 'مجمع البحوث - المبنى ج',
      contactEmail: 'environment@science.luxor.edu.eg',
      contactPhone: '+20 95 237 1243',
      website: 'https://erc.science.luxor.edu.eg',
      isActive: true
    },

    {
      id: '5',
      name: 'مركز أبحاث التكنولوجيا الحيوية',
      type: 'center',
      description: 'الابتكار في التكنولوجيا الحيوية وعلوم الحياة',
      icon: 'fas fa-dna',
      overview: 'يركز مركز أبحاث التكنولوجيا الحيوية على الأبحاث المتقدمة في البيولوجيا الجزيئية، التطبيقات الطبية الحيوية، والزراعة، ويطور حلولاً مبتكرة للصحة والغذاء والصناعة.',
      objectives: [
        'تطوير أبحاث التكنولوجيا الحيوية',
        'ابتكار تطبيقات طبية حيوية',
        'دعم الابتكار الزراعي',
        'بناء شراكات مع الصناعة',
        'إعداد كوادر متخصصة في البيوتكنولوجي'
      ],
      services: [
        'تحليل جزيئي ووراثي',
        'اختبارات جينية',
        'تطوير عمليات حيوية',
        'التعاون البحثي ونقل التكنولوجيا'
      ],
      facilities: [
        'معامل بيولوجيا جزيئية',
        'وحدات زراعة خلوية',
        'مركز معلوماتية حيوية',
        'مصنع تجريبي (Pilot Plant)'
      ],
      director: 'د. رانيا فاروق',
      establishedYear: 2021,
      location: 'مجمع البحوث - المبنى ب',
      contactEmail: 'biotech@science.luxor.edu.eg',
      contactPhone: '+20 95 237 1244',
      website: 'https://btc.science.luxor.edu.eg',
      isActive: true
    },

    {
      id: '6',
      name: 'مركز علوم وتكنولوجيا المواد',
      type: 'center',
      description: 'البحث والتطوير في المواد المتقدمة والنانوتكنولوجي',
      icon: 'fas fa-atom',
      overview: 'يُجري المركز أبحاثاً في المواد المتقدمة، النانوتكنولوجي، وتوصيف المواد، ويطور مواد جديدة لتطبيقات صناعية وطبية وتقنية متنوعة، كما يقدم خدمات اختبار واستشارات.',
      objectives: [
        'تطوير مواد متقدمة ونانوية',
        'إجراء أبحاث علم المواد',
        'تقديم خدمات التوصيف والاختبار',
        'دعم التطبيقات الصناعية',
        'تدريب علماء المواد'
      ],
      services: [
        'توصيف المواد',
        'تصنيع المواد النانوية',
        'اختبارات المواد',
        'استشارات فنية',
        'شراكات بحثية'
      ],
      facilities: [
        'معامل التوصيف المتطورة',
        'وحدات التصنيع والتخليق',
        'أجهزة اختبار عالية الدقة',
        'غرف نظيفة (Clean Rooms)'
      ],
      director: 'أ.د/ محمود عبد العزيز',
      establishedYear: 2022,
      location: 'مجمع البحوث - المبنى أ',
      contactEmail: 'materials@science.luxor.edu.eg',
      contactPhone: '+20 95 237 1245',
      isActive: true
    }
  ];

  getAll(): UnitCenter[] {
    return this.unitsAndCenters;
  }

  getUnits(): UnitCenter[] {
    return this.unitsAndCenters.filter(uc => uc.type === 'unit');
  }

  getCenters(): UnitCenter[] {
    return this.unitsAndCenters.filter(uc => uc.type === 'center');
  }

  getById(id: string): UnitCenter | undefined {
    return this.unitsAndCenters.find(uc => uc.id === id);
  }

  getActive(): UnitCenter[] {
    return this.unitsAndCenters.filter(uc => uc.isActive);
  }

  searchUnitsAndCenters(query: string): UnitCenter[] {
    const q = query.toLowerCase();
    return this.unitsAndCenters.filter(uc =>
      uc.name.toLowerCase().includes(q) ||
      uc.description.toLowerCase().includes(q) ||
      uc.type.toLowerCase().includes(q)
    );
  }
}